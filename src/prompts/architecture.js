/**
 * Architecture Prompts - 架构类提示词
 * 用于生成小说架构的各个组成部分
 */

/**
 * 核心种子提示词
 * 雪花写作法第一步 - 用单句概括故事本质
 */
export const coreSeed = (params) => `
作为专业作家，请用"雪花写作法"第一步构建故事核心：
主题：${params.topic}
类型：${params.genre}
篇幅：约${params.numberOfChapters}章（每章${params.wordNumber}字）

请根据【${params.genre}】类型的特点，用单句公式概括故事本质。

不同类型的示例：
- 悬疑/惊悚类："当[主角]遭遇[核心事件]，必须[关键行动]，否则[灾难后果]；与此同时，[隐藏的更大危机]正在发酵。"
- 言情/温馨类："当[主角]在[背景环境]中遇见[另一角色]，两人因[契机]产生羁绊，在[成长/治愈过程]中收获[情感结局]。"
- 玄幻/仙侠类："当[主角]获得[机缘]，踏上[修炼之路]，面对[挑战]，逐步成长为[最终成就]。"
- 都市/现实类："当[主角]面临[现实困境]，通过[努力方式]，实现[人生目标]，同时收获[情感/成长]。"

要求：
1. **严格遵循【${params.genre}】类型的核心特征和情感基调**
2. 体现人物核心驱动力
3. 暗示世界观或故事背景的关键特点
4. 使用25-100字精准表达

仅返回故事核心文本，不要解释任何内容。
`

/**
 * 角色动力学提示词
 * 设计具有动态变化潜力的核心角色
 */
export const characterDynamics = (params) => `
基于以下元素：
- 小说类型：${params.genre || '通用'}
- 内容指导：${params.userGuidance || '无'}
- 核心种子：${params.coreSeed}

请设计3-6个具有动态变化潜力的核心角色，每个角色需包含：
特征：
- 背景、外貌、性别、年龄、职业等
- 角色独特之处或成长空间

核心驱动力三角：
- 表面追求（物质目标）
- 深层渴望（情感需求）
- 灵魂需求（哲学层面）

角色弧线设计：
初始状态 → 触发事件 → 内心转变 → 成长节点 → 最终状态

角色关系网（根据【${params.genre || '通用'}】类型调整）：
- 与其他角色的关系和互动模式
- 角色间的羁绊或张力来源
- 情感连接点（友情/爱情/亲情/信任等）
- 可能的误解或需要跨越的障碍

**重要**：角色设计需符合【${params.genre || '通用'}】类型的情感基调。

要求：
仅给出最终文本，不要解释任何内容。
`

/**
 * 世界观构建提示词
 * 三维交织法构建世界观
 */
export const worldBuilding = (params) => `
基于以下元素：
- 小说类型：${params.genre || '通用'}
- 内容指导：${params.userGuidance || '无'}
- 核心故事："${params.coreSeed}"

为服务上述内容，请构建适合【${params.genre || '通用'}】类型的世界观：

1. 物理维度：
- 空间结构（地理环境、主要场景）
- 时间背景（故事发生的时代/时间跨度）
- 规则体系（该世界的基本运行法则）

2. 社会维度：
- 社会结构（人物所处的社会环境）
- 文化氛围（风俗、习惯、价值观）
- 生活方式（日常生活的细节设定）

3. 情感维度：
- 贯穿全书的核心意象（如反复出现的场景、物品、象征）
- 环境氛围与故事情感的呼应关系
- 场景设计如何强化【${params.genre || '通用'}】类型的情感体验

**重要**：世界观设计需服务于【${params.genre || '通用'}】类型的核心体验，营造符合类型特点的氛围。

要求：
每个维度至少包含3个可与角色决策产生互动的动态元素。
仅给出最终文本，不要解释任何内容。
`

/**
 * 情节架构提示词
 * 三幕式悬念结构
 */
export const plotArchitecture = (params) => `
基于以下元素：
- 小说类型：${params.genre || '通用'}
- 内容指导：${params.userGuidance || '无'}
- 核心种子：${params.coreSeed}
- 角色体系：${params.characterDynamics}
- 世界观：${params.worldBuilding}

请根据【${params.genre || '通用'}】类型设计三幕式情节架构：

第一幕（开端） 
- 日常状态展示（3处场景铺垫，体现【${params.genre || '通用'}】的氛围）
- 引出故事：展示主线、感情线、副线的开端
- 契机事件：推动故事发展的触发点（改变角色关系或状态）
- 初步反应：主角面对变化的第一反应

第二幕（发展）
- 剧情深入：主线+感情线的交织发展
- 挑战与成长：角色面临的困难和内心变化
- 情感升温/矛盾激化：关系发展的关键节点
- 重要转折：改变故事走向的关键时刻

第三幕（高潮与结局）
- 核心冲突爆发：故事的高潮部分
- 角色抉择：主角做出重要决定
- 情感/事件收尾：符合【${params.genre || '通用'}】类型的结局处理

**重要**：情节设计需符合【${params.genre || '通用'}】类型读者的期待，确保情感基调一致。

每个阶段需包含3个关键节点及其伏笔设计。
仅给出最终文本，不要解释任何内容。
`

/**
 * 角色状态提示词
 * 生成初始角色状态文档
 */
export const characterState = (params) => `
依据当前角色动力学设定：${params.characterDynamics}

请生成一个角色状态文档，内容格式：
例：
张三：
├──物品:
│  ├──青衫：一件破损的青色长袍，带有暗红色的污渍
│  └──寒铁长剑：一柄断裂的铁剑，剑身上刻有古老的符文
├──能力
│  ├──技能1：强大的精神感知能力：能够察觉到周围人的心中活动
│  └──技能2：无形攻击：能够释放一种无法被视觉捕捉的精神攻击
├──状态
│  ├──身体状态: 身材挺拔，穿着华丽的铠甲，面色冷峻
│  └──心理状态: 目前的心态比较平静，但内心隐藏着对柳溪镇未来掌控的野心和不安
├──主要角色间关系网
│  ├──李四：张三从小就与她有关联，对她的成长一直保持关注
│  └──王二：两人之间有着复杂的过去，最近因一场冲突而让对方感到威胁
├──触发或加深的事件
│  ├──村庄内突然出现不明符号：这个不明符号似乎在暗示柳溪镇即将发生重大事件
│  └──李四被刺穿皮肤：这次事件让两人意识到对方的强大实力，促使他们迅速离开队伍

要求：
仅返回编写好的角色状态文本，不要解释任何内容。
`

/**
 * 导出所有架构类提示词
 */
export const architecturePrompts = {
  coreSeed,
  characterDynamics,
  worldBuilding,
  plotArchitecture,
  characterState
}
